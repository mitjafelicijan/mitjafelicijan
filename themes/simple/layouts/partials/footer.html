<footer class="container-blog mx-auto px-6 md:p-0 text-gray-400 text-sm">
  <p class="pb-12">
    This website does not track you.
    Content is made available under the <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noreferrer" class="underline hover:text-gray-800">CC BY 4.0 license</a> unless specified otherwise.
    Blog feed is available as <a href="/index.xml" target="_blank" class="underline hover:text-gray-800">RSS</a> feed.
  </p>
</footer>

<!-- Fathom - beautiful, simple website analytics -->
<script src="https://cdn.usefathom.com/script.js" data-site="XHQARKXP" defer></script>

{{ if ne .IsHome true }}
<!-- KaTeX math library -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
{{ end }}

{{ if ne .IsHome true }}
<!-- Lazy loading of iframes -->
<script>
  window.addEventListener('load', () => {
    const iframes = document.querySelectorAll('.ll-iframe');

    if (iframes) {
      iframes.forEach(iframe => {
        iframe.addEventListener('click', (evt) => {
          // If there are no elements yet in the target element add iframe.
          if (!evt.target.dataset.alreadyLoaded) {
            // Setting this element as already loaded so it doesn't
            // attempt to load it again.
            evt.target.dataset.alreadyLoaded = true;

            // Clearing up all existing elements inside of the target one.
            evt.target.innerHTML = '';
            evt.target.classList.add('empty');
            evt.target.classList.add('border-0');

            // Creating iframe DOM element.
            const iframeElement = document.createElement('iframe');
            iframeElement.classList.add('w-full');
            iframeElement.classList.add('h-full');
            iframeElement.classList.add('rounded');
            iframeElement.src = evt.target.dataset.src;

            // Appending iframe as a child of current element.
            evt.target.appendChild(iframeElement);
          }
        });
      });
    }
  });
</script>
{{ end }}
