<!doctype html><html lang=en-us><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAL69vf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv76+/8LBwQkAAAAAAAAAAAAAAAC+vb3/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAL+9vf/Bv78JAAAAAAAAAAAAAAAAu7q6/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC7ubr/vr29CAAAAAAAAAAAy8nJAZ6foP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnqGj/6GipAoAAAAAHLjU/xcXHf/BwsL/I8XY/yPK3v8XGiD/IbjL/yPF2f8XGiD/Fxkf/yLF2f8gnK3/Fxog/62ztv8fwNf/FRcd/x271v8mz93/GRsi/xkXHf8p097/GiIp/xobIv8p0t3/KdPe/xocIv8fYmr/KNPe/xoZH/8aHCL/J87c/xy81/8VFxz/IsPZ/8zS0/8XGiD/Ir/R/yPH2/8XGiD/Fxkf/yPH2/8dd4T/GBog/yPJ3f8jyNr/uru9/xcUGv8cudb/EhITDKi5vRKlvMP/RUpOERwcHRAdOj4QHTk8EBwdHRAdNTgQHTo/EBwcHRAcHB0QSGduEKW4vf+koqQfHzg+EBqz0ewSFRv7EyMr/xq51vsTERb7ExUb+xq41fsau9j7ExUb+xiPp/sZudb7ExUb+xMVG/sZuNX/GKvI/BIUGfMdvdn/IrfL/xcaIP8n1eb/J9Dh/xkcIf8ZGR7/J8/f/xxCSv8ZGyH/J9Dg/ybQ4P8ZHCL/FSQs/yPK3/8UExj/GE1b/ybS5P8ZGB7/Ghwj/ynW5P8p2Ob/Ghwi/yWrtv8p1eH/Ghwi/xocIv8p1uT/J8XT/xkcIv8m1un/Hb7d/xUYH/8hzOr/HtHu/xcaIf8XGB//I8vi/xgxOv8XGSD/I8rg/yPK4P8XGiD/GUFL/yPP6f8SERj/Fhkh/x3A4f8AAAAAJ2f9/ydr//8mZPH/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlYu38J2v//ydo/f8AAAAAAAAAAAd8/fkFqf//Iob8sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMY39awWr//8FfP3/AAAAAAAAAAAFm/7/SfD//wR+/f8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOB/f9B7v//BaX+/wAAAAAAAAAAQ878SAyZ/v9n1v4KAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADu9v8DDJb+/z3N/XgAAAAA3/sAAN/7AADf+wAA3/sAAAAAAAAAAAAAAAAAAN/7AAAAAAAAAAAAAAAAAAAAAAAAj/EAAI/5AACP8QAA3/sAAA==" rel=icon type=image/x-icon><title>List of essential Linux commands for server management</title><meta name=description content="Generate SSH keyssh-keygen -t ed25519 -C &amp;#34;your_email@example."><link rel=alternate type=application/rss+xml title="Mitja Felicijan's posts" href=https://mitjafelicijan.com/index.xml><link rel=alternate type=application/rss+xml title="Mitja Felicijan's notes" href=https://mitjafelicijan.com/notes.xml><style>body{padding:1rem;max-width:760px;background:#fff;font-family:times new roman,Times,serif;line-height:1.35rem}hr{margin-block-start:1.5rem}h1,h2,h3{line-height:initial}footer{margin-block-start:3rem}table{max-width:100%;border-collapse:separate;border-spacing:2px;border:1px solid #000;border-left:1px solid #999;border-top:1px solid #999}blockquote{font-style:italic}table thead{background:#eee}td,th{border:1px solid #000;padding:4px;border-right:1px solid #999;border-bottom:1px solid #999;text-align:left}pre{text-wrap:nowrap;overflow-x:auto;margin-block-start:1.5rem;margin-block-end:1.5rem;padding:.5rem 0;border-top:1px solid #000;border-bottom:1px solid #000}pre code{line-height:1.3em}pre,code,pre *,code *{font-family:monospace;font-size:initial!important}img,video,audio{max-width:100%}header{display:flex;flex-direction:row;gap:3rem}nav{display:flex;gap:.75rem}.pstatus-orange{background:gold}.pstatus-green{background:#9acd32}.pstatus-red{background:#cd5c5c}@media only screen and (max-width:600px){header{flex-direction:column;gap:1rem}a{word-wrap:break-word}}</style><header><nav class=main><a href=/>Home</a>
<a href=https://git.mitjafelicijan.com/ target=_blank>Git</a>
<a href=https://files.mitjafelicijan.com/ target=_blank>Files</a>
<a href=/mitjafelicijan.pgp.pub.txt target=_blank>PGP</a>
<a href=/curriculum-vitae.html>CV</a>
<a href=/index.xml target=_blank>RSS</a></nav></header><main><div><h1>List of essential Linux commands for server management</h1><p>Aug 1, 2021<div><p><strong>Generate SSH key</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>ssh-keygen -t ed25519 -C <span style=color:#a31515>&#34;your_email@example.com&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green># when no support for Ed25519 present</span>
</span></span><span style=display:flex><span>ssh-keygen -t rsa -b 4096 -C <span style=color:#a31515>&#34;your_email@example.com&#34;</span>
</span></span></code></pre><p>Note: By default SSH keys get stored to <code>/home/&lt;username>/.ssh/</code> folder.<p><strong>Login to host via SSH</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span><span style=color:green># connect to host as your local username</span>
</span></span><span style=display:flex><span>ssh host
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green># connect to host as user</span>
</span></span><span style=display:flex><span>ssh &lt;user&gt;@&lt;host&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green># connect to host using port</span>
</span></span><span style=display:flex><span>ssh -p &lt;port&gt; &lt;user&gt;@&lt;host&gt;
</span></span></code></pre><p><strong>Execute command on a server through SSH</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span><span style=color:green># execute one command</span>
</span></span><span style=display:flex><span>ssh root@100.100.100.100 <span style=color:#a31515>&#34;ls /root&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green># execute many commands</span>
</span></span><span style=display:flex><span>ssh root@100.100.100.100 <span style=color:#a31515>&#34;cd /root;touch file.txt&#34;</span>
</span></span></code></pre><p><strong>Displays currently logged in users in the system</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>w
</span></span></code></pre><p><strong>Displays Linux system information</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>uname
</span></span></code></pre><p><strong>Displays kernel release information</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>uname -r
</span></span></code></pre><p><strong>Shows the system hostname</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>hostname
</span></span></code></pre><p><strong>Shows system reboot history</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>last reboot
</span></span></code></pre><p><strong>Displays information about the user</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>sudo apt install finger
</span></span><span style=display:flex><span>finger &lt;username&gt;
</span></span></code></pre><p><strong>Displays IP addresses and all the network interfaces</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>ip addr show
</span></span></code></pre><p><strong>Downloads a file from an online source</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>wget https://example.com/example.tgz
</span></span></code></pre><p>Note: If URL contains ?, & enclose the URL in double quotes.<p><strong>Compress a file with gzip</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span><span style=color:green># will not keep the original file</span>
</span></span><span style=display:flex><span>gzip file.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green># will keep the original file</span>
</span></span><span style=display:flex><span>gzip --keep file.txt
</span></span></code></pre><p><strong>Interactive disk usage analyzer</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>sudo apt install ncdu
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ncdu
</span></span><span style=display:flex><span>ncdu &lt;path/to/directory&gt;
</span></span></code></pre><p><strong>Install Node.js using the Node Version Manager</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash
</span></span><span style=display:flex><span>source ~/.bashrc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nvm install v13
</span></span></code></pre><p><strong>Too long; didn't read</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>npm install -g tldr
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>tldr tar
</span></span></code></pre><p><strong>Combine all Nginx access logs to one big log file</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>zcat -f /var/log/nginx/access.log* &gt; /var/log/nginx/access-all.log
</span></span></code></pre><p><strong>Set up Redis server</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>sudo apt install redis-server redis-tools
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green># check if server is running</span>
</span></span><span style=display:flex><span>sudo service redis status
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green># set and get a key value</span>
</span></span><span style=display:flex><span>redis-cli set mykey myvalue
</span></span><span style=display:flex><span>redis-cli get mykey
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green># interactive shell</span>
</span></span><span style=display:flex><span>redis-cli
</span></span></code></pre><p><strong>Generate statistics of your webserver</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>sudo apt install goaccess
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green># check if installed</span>
</span></span><span style=display:flex><span>goaccess -v
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green># combine logs</span>
</span></span><span style=display:flex><span>zcat -f /var/log/nginx/access.log* &gt; /var/log/nginx/access-all.log
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green># export to single html</span>
</span></span><span style=display:flex><span>goaccess <span style=color:#a31515>\
</span></span></span><span style=display:flex><span><span style=color:#a31515></span>  --log-file=/var/log/nginx/access-all.log <span style=color:#a31515>\
</span></span></span><span style=display:flex><span><span style=color:#a31515></span>  --log-format=COMBINED <span style=color:#a31515>\
</span></span></span><span style=display:flex><span><span style=color:#a31515></span>  --exclude-ip=0.0.0.0 <span style=color:#a31515>\
</span></span></span><span style=display:flex><span><span style=color:#a31515></span>  --ignore-crawlers <span style=color:#a31515>\
</span></span></span><span style=display:flex><span><span style=color:#a31515></span>  --real-os <span style=color:#a31515>\
</span></span></span><span style=display:flex><span><span style=color:#a31515></span>  --output=/var/www/html/stats.html
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green># cleanup afterwards</span>
</span></span><span style=display:flex><span>rm /var/log/nginx/access-all.log
</span></span></code></pre><p><strong>Search for a given pattern in files</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>grep -r ‘pattern’ files
</span></span></code></pre><p><strong>Find proccess ID for a specific program</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>pgrep nginx
</span></span></code></pre><p><strong>Print name of current/working directory</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>pwd
</span></span></code></pre><p><strong>Creates a blank new file</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>touch newfile.txt
</span></span></code></pre><p><strong>Displays first lines in a file</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span><span style=color:green># -n &lt;x&gt; presents the number of lines (10 by default)</span>
</span></span><span style=display:flex><span>head -n 20 somefile.txt
</span></span></code></pre><p><strong>Displays last lines in a file</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span><span style=color:green># -n &lt;x&gt; presents the number of lines (10 by default)</span>
</span></span><span style=display:flex><span>tail -n 20 somefile.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green># -f follows the changes in file (doesn&#39;t closes)</span>
</span></span><span style=display:flex><span>tail -f somefile.txt
</span></span></code></pre><p><strong>Count lines in a file</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>wc -l somefile.txt
</span></span></code></pre><p><strong>Find all instances of the file</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>sudo apt install mlocate
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>locate somefile.txt
</span></span></code></pre><p><strong>Find file names that begin with ‘index’ in /home folder</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>find /home/ -name <span style=color:#a31515>&#34;index&#34;</span>
</span></span></code></pre><p><strong>Find files larger than 100MB in the home folder</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>find /home -size +100M
</span></span></code></pre><p><strong>Displays block devices related information</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>lsblk
</span></span></code></pre><p><strong>Displays free space on mounted systems</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>df -h
</span></span></code></pre><p><strong>Displays free and used memory in the system</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>free -h
</span></span></code></pre><p><strong>Displays all active listening ports</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>sudo apt install net-tools
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>netstat -pnltu
</span></span></code></pre><p><strong>Kill a process violently</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>kill -9 &lt;pid&gt;
</span></span></code></pre><p><strong>List files opened by user</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span>lsof -u &lt;user&gt;
</span></span></code></pre><p><strong>Execute "df -h", showing periodic updates</strong><pre tabindex=0 style=background-color:#fff><code><span style=display:flex><span><span style=color:green># -n 1 means every second</span>
</span></span><span style=display:flex><span>watch -n 1 df -h
</span></span></code></pre></div></div></main><footer><hr><div><h3>Want to comment or have something to add?</h3>You can write me an email at
<a href=mailto:m@mitjafelicijan.com>m@mitjafelicijan.com</a> or catch up
with me
<a href=https://telegram.me/mitjafelicijan target=_blank>on Telegram</a>.</div><hr><p>This website does not track you. Content is made available under
the <a href=https://creativecommons.org/licenses/by/4.0/ target=_blank rel=noreferrer>CC BY 4.0 license</a> unless specified
otherwise. Blog feed is available as <a href=/index.xml target=_blank>RSS feed</a>.</footer><script src=https://cdn.usefathom.com/script.js data-site=XHQARKXP defer></script>